var initPhotoSwipeFromDOM=function(e){for(var t=function(e){for(var t,n,r,i,o=e.childNodes,a=o.length,l=[],d=0;d<a;d++)1===(t=o[d]).nodeType&&(r=(n=t.children[0]).getAttribute("data-size").split("x"),i={src:n.getAttribute("href"),w:parseInt(r[0],10),h:parseInt(r[1],10)},t.children.length>1&&(i.title=t.children[1].innerHTML),n.children.length>0&&(i.msrc=n.children[0].getAttribute("src")),i.el=t,l.push(i));return l},n=function e(t,n){return t&&(n(t)?t:e(t.parentNode,n))},r=function(e,n,r,i){var o,a,l=document.querySelectorAll(".pswp")[0];if(a=t(n),o={galleryUID:n.getAttribute("data-pswp-uid"),getThumbBoundsFn:function(e){var t=a[e].el.getElementsByTagName("img")[0],n=window.pageYOffset||document.documentElement.scrollTop,r=t.getBoundingClientRect();return{x:r.left,y:r.top+n,w:r.width}}},i)if(o.galleryPIDs){for(var d=0;d<a.length;d++)if(a[d].pid==e){o.index=d;break}}else o.index=parseInt(e,10)-1;else o.index=parseInt(e,10);isNaN(o.index)||(r&&(o.showAnimationDuration=0),new PhotoSwipe(l,PhotoSwipeUI_Default,a,o).init())},i=document.querySelectorAll(e),o=0,a=i.length;o<a;o++)i[o].setAttribute("data-pswp-uid",o+1),i[o].onclick=function(e){(e=e||window.event).preventDefault?e.preventDefault():e.returnValue=!1;var t=e.target||e.srcElement,i=n(t,function(e){return e.tagName&&"FIGURE"===e.tagName.toUpperCase()});if(i){for(var o,a=i.parentNode,l=i.parentNode.childNodes,d=l.length,u=0,g=0;g<d;g++)if(1===l[g].nodeType){if(l[g]===i){o=u;break}u++}return o>=0&&r(o,a),!1}};var l=function(){var e=window.location.hash.substring(1),t={};if(e.length<5)return t;for(var n=e.split("&"),r=0;r<n.length;r++)if(n[r]){var i=n[r].split("=");i.length<2||(t[i[0]]=i[1])}return t.gid&&(t.gid=parseInt(t.gid,10)),t}();l.pid&&l.gid&&r(l.pid,i[l.gid-1],!0,!0)};$("document").ready(function(){initPhotoSwipeFromDOM(".my-gallery"),$(".masonry-grid").length>0&&$(".masonry-grid").masonry({itemSelector:".grid-item",columnWidth:".grid-sizer"})});